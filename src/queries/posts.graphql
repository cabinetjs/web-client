fragment MinimalPost on Post {
    id
    no
    title
    content
    attachments {
        ...MinimalAttachment
    }

    attachmentCount
    replyCount
}

fragment FullPost on Post {
    id
    no
    title
    content
    writtenAt
    attachments {
        ...FullAttachment
    }
}

query boardThreads($boardId: String!) {
    board(id: $boardId) {
        id
        name
        threads: openingPosts {
            ...MinimalPost
        }
    }
}

query dataSourceThreads($dataSourceId: String!) {
    dataSource(name: $dataSourceId) {
        id
        threads: openingPosts {
            ...MinimalPost
        }
    }
}

query thread($threadId: String!) {
    post(id: $threadId) {
        ...FullPost
        replies {
            ...FullPost
        }
    }
}

query threadMetadata($threadId: String!) {
    post(id: $threadId) {
        id
        no
        title
    }
}
